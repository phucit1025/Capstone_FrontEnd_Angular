<div [draggable]="!swapMode" [dragScope]="parentId + ''" [dragData]="data" nz-tooltip [nzTrigger]="'hover'"
     [nzTitle]="fullText" nzPlacement="right"
     class="ant-tooltip-open d-inline-block">
  <nz-card class="room">
    <div>
      <nz-form-label style="font-weight: bold" [nzSpan]="6">Catalog</nz-form-label>
      <p class="overflow-text" style="overflow: hidden">{{data.catalogName}}</p>
    </div>
    <div>
      <nz-form-label style="font-weight: bold" [nzSpan]="6">Patient</nz-form-label>
      <p class="overflow-text">{{data.patientName}}</p>
    </div>
    <div>
      <nz-form-label style="font-weight: bold" [nzSpan]="6">Time</nz-form-label>
      <p>{{(data.estimatedStartDateTime | date: 'HH : mm') + ' - ' + (data.estimatedEndDateTime | date: 'HH : mm')}}</p>
    </div>
    <div *ngIf="!swapMode" class="row">
      <div class="col-6 pr-1 pl-0">
        <button style="width: 100%" nz-button nzType="default">
          Detail
        </button>
      </div>
      <div class="col-6 pl-1 pr-0">
        <button  (click)="openModal.emit(data)" style="width: 100%" nz-button nzType="default">
          Change
        </button>
      </div>
    </div>
    <div *ngIf="swapMode">
      <button [ngClass]="{'checked' : (selected.firstShiftId === data.id || selected.secondShiftId ===data.id)}"
              [disabled]="canDisabled()"
              class="checkButton" (click)="chooseNode()" style="width: 100%" nz-button nzType="default">
        {{(selected.firstShiftId === data.id || selected.secondShiftId === data.id) ? 'Unselect' : 'Select'}}
      </button>
    </div>
  </nz-card>
</div>

<ng-template #fullText>
  <div class="tooltip-container">
    <div>
      <p style="color: aqua"> Catalog :</p>
      <p>{{data.catalogName}}</p>
    </div>
    <div>
      <p style="color: aqua"> Patient :</p>
      <p>{{data.patientName}}</p>
    </div>
    <div>
      <p style="color: aqua"> Time :</p>
      <p>{{(data.estimatedStartDateTime | date: 'HH : mm') + ' - ' + (data.estimatedEndDateTime | date: 'HH : mm')}}</p>
    </div>
  </div>
</ng-template>
